/* 2019-6-13 19:33:08 | 版权所有 量子矩阵 */
!function s(i,o,p){function l(t,e){if(!o[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(d)return d(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var n=o[t]={exports:{}};i[t][0].call(n.exports,function(e){var r=i[t][1][e];return l(r||e)},n,n.exports,s,i,o,p)}return o[t].exports}for(var d="function"==typeof require&&require,e=0;e<p.length;e++)l(p[e]);return l}({1:[function(e,r,t){function a(e){this.data=e,this.pos=0}a.prototype.readByte=function(){return this.data[this.pos++]},a.prototype.peekByte=function(){return this.data[this.pos]},a.prototype.readBytes=function(e){for(var r=new Array(e),t=0;t<e;t++)r[t]=this.readByte();return r},a.prototype.peekBytes=function(e){for(var r=new Array(e),t=0;t<e;t++)r[t]=this.data[this.pos+t];return r},a.prototype.readString=function(e){for(var r="",t=0;t<e;t++)r+=String.fromCharCode(this.readByte());return r},a.prototype.readBitArray=function(){for(var e=[],r=this.readByte(),t=7;0<=t;t--)e.push(!!(r&1<<t));return e},a.prototype.readUnsigned=function(e){var r=this.readBytes(2);return e?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]},r.exports=a},{}],2:[function(e,r,t){var a=e("./bytestream");function n(e){this.stream=new a(e),this.output={}}n.prototype.parse=function(e){return this.parseParts(this.output,e),this.output},n.prototype.parseParts=function(e,r){for(var t=0;t<r.length;t++){var a=r[t];this.parsePart(e,a)}},n.prototype.parsePart=function(e,r){var t,a=r.label;if(!r.requires||r.requires(this.stream,this.output,e))if(r.loop){for(var n=[];r.loop(this.stream);){var s={};this.parseParts(s,r.parts),n.push(s)}e[a]=n}else r.parts?(t={},this.parseParts(t,r.parts),e[a]=t):r.parser?(t=r.parser(this.stream,this.output,e),r.skip||(e[a]=t)):r.bits&&(e[a]=this.parseBits(r.bits))},n.prototype.parseBits=function(e){var r={},t=this.stream.readBitArray();for(var a in e){var n=e[a];n.length?r[a]=t.slice(n.index,n.index+n.length).reduce(function(e,r){return 2*e+r},0):r[a]=t[n.index]}return r},r.exports=n},{"./bytestream":1}],3:[function(e,r,t){var a={readByte:function(){return function(e){return e.readByte()}},readBytes:function(r){return function(e){return e.readBytes(r)}},readString:function(r){return function(e){return e.readString(r)}},readUnsigned:function(r){return function(e){return e.readUnsigned(r)}},readArray:function(i,o){return function(e,r,t){for(var a=o(e,r,t),n=new Array(a),s=0;s<a;s++)n[s]=e.readBytes(i);return n}}};r.exports=a},{}],4:[function(e,r,t){var a=e("./gif");"undefined"!=typeof window&&(window.gifuct=a),"undefined"!=typeof define&&define.amd&&define(function(){return a})},{"./gif":5}],5:[function(e,r,t){var n=e("../bower_components/js-binary-schema-parser/src/dataparser"),s=e("./schema");function a(e){var r=new Uint8Array(e),t=new n(r);this.raw=t.parse(s),this.raw.hasImages=!1;for(var a=0;a<this.raw.frames.length;a++)if(this.raw.frames[a].image){this.raw.hasImages=!0;break}}a.prototype.decompressFrame=function(e,r){if(e>=this.raw.frames.length)return null;var t=this.raw.frames[e];if(t.image){var a=t.image.descriptor.width*t.image.descriptor.height,n=function(e,r,t){var a,n,s,i,o,p,l,d,u,c,f,h,y,g,b,m,v=4096,x=t,w=new Array(t),B=new Array(v),k=new Array(v),A=new Array(4097);for(o=1+(n=1<<(h=e)),a=2+n,l=-1,s=(1<<(i=h+1))-1,u=0;u<n;u++)B[u]=0,k[u]=u;for(f=d=count=y=g=m=b=0,c=0;c<x;){if(0===g){if(d<i){f+=r[b]<<d,d+=8,b++;continue}if(u=f&s,f>>=i,d-=i,a<u||u==o)break;if(u==n){s=(1<<(i=h+1))-1,a=2+n,l=-1;continue}if(-1==l){A[g++]=k[u],y=l=u;continue}for((p=u)==a&&(A[g++]=y,u=l);n<u;)A[g++]=k[u],u=B[u];y=255&k[u],A[g++]=y,a<v&&(B[a]=l,k[a]=y,0==(++a&s)&&a<v&&(i++,s+=a)),l=p}g--,w[m++]=A[g],c++}for(c=m;c<x;c++)w[c]=0;return w}(t.image.data.minCodeSize,t.image.data.blocks,a);t.image.descriptor.lct.interlaced&&(n=function(e,r){for(var t=new Array(e.length),a=e.length/r,n=[0,4,2,1],s=[8,8,4,2],i=0,o=0;o<4;o++)for(var p=n[o];p<a;p+=s[o])l=p,d=i,void 0,u=e.slice(d*r,(d+1)*r),t.splice.apply(t,[l*r,r].concat(u)),i++;var l,d,u;return t}(n,t.image.descriptor.width));var s={pixels:n,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return t.image.descriptor.lct&&t.image.descriptor.lct.exists?s.colorTable=t.image.lct:s.colorTable=this.raw.gct,t.gce&&(s.delay=10*(t.gce.delay||10),s.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(s.transparentIndex=t.gce.transparentColorIndex)),r&&(s.patch=function(e){for(var r=e.pixels.length,t=new Uint8ClampedArray(4*r),a=0;a<r;a++){var n=4*a,s=e.pixels[a],i=e.colorTable[s];t[n]=i[0],t[1+n]=i[1],t[2+n]=i[2],t[3+n]=s!==e.transparentIndex?255:0}return t}(s)),s}return null},a.prototype.decompressFrames=function(e){for(var r=[],t=0;t<this.raw.frames.length;t++){this.raw.frames[t].image&&r.push(this.decompressFrame(t,e))}return r},r.exports=a},{"../bower_components/js-binary-schema-parser/src/dataparser":2,"./schema":6}],6:[function(e,r,t){var a=e("../bower_components/js-binary-schema-parser/src/parsers"),n={label:"blocks",parser:function(e){for(var r=[],t=e.readByte();0!==t;t=e.readByte())r=r.concat(e.readBytes(t));return r}},s={label:"gce",requires:function(e){var r=e.peekBytes(2);return 33===r[0]&&249===r[1]},parts:[{label:"codes",parser:a.readBytes(2),skip:!0},{label:"byteSize",parser:a.readByte()},{label:"extras",bits:{future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}}},{label:"delay",parser:a.readUnsigned(!0)},{label:"transparentColorIndex",parser:a.readByte()},{label:"terminator",parser:a.readByte(),skip:!0}]},i={label:"image",requires:function(e){return 44===e.peekByte()},parts:[{label:"code",parser:a.readByte(),skip:!0},{label:"descriptor",parts:[{label:"left",parser:a.readUnsigned(!0)},{label:"top",parser:a.readUnsigned(!0)},{label:"width",parser:a.readUnsigned(!0)},{label:"height",parser:a.readUnsigned(!0)},{label:"lct",bits:{exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}}}]},{label:"lct",requires:function(e,r,t){return t.descriptor.lct.exists},parser:a.readArray(3,function(e,r,t){return Math.pow(2,t.descriptor.lct.size+1)})},{label:"data",parts:[{label:"minCodeSize",parser:a.readByte()},n]}]},o={label:"text",requires:function(e){var r=e.peekBytes(2);return 33===r[0]&&1===r[1]},parts:[{label:"codes",parser:a.readBytes(2),skip:!0},{label:"blockSize",parser:a.readByte()},{label:"preData",parser:function(e,r,t){return e.readBytes(t.text.blockSize)}},n]},p={label:"frames",parts:[s,{label:"application",requires:function(e,r,t){var a=e.peekBytes(2);return 33===a[0]&&255===a[1]},parts:[{label:"codes",parser:a.readBytes(2),skip:!0},{label:"blockSize",parser:a.readByte()},{label:"id",parser:function(e,r,t){return e.readString(t.blockSize)}},n]},{label:"comment",requires:function(e,r,t){var a=e.peekBytes(2);return 33===a[0]&&254===a[1]},parts:[{label:"codes",parser:a.readBytes(2),skip:!0},n]},i,o],loop:function(e){var r=e.peekByte();return 33===r||44===r}},l=[{label:"header",parts:[{label:"signature",parser:a.readString(3)},{label:"version",parser:a.readString(3)}]},{label:"lsd",parts:[{label:"width",parser:a.readUnsigned(!0)},{label:"height",parser:a.readUnsigned(!0)},{label:"gct",bits:{exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}}},{label:"backgroundColorIndex",parser:a.readByte()},{label:"pixelAspectRatio",parser:a.readByte()}]},{label:"gct",requires:function(e,r){return r.lsd.gct.exists},parser:a.readArray(3,function(e,r){return Math.pow(2,r.lsd.gct.size+1)})},p];r.exports=l},{"../bower_components/js-binary-schema-parser/src/parsers":3}]},{},[4]);